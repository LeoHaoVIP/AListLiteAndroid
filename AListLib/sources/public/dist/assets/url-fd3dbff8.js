import{dL as j,da as S,b as $,y as p,D as w,ah as I,dR as T,dM as W}from"./index-8c4ccd06.js";import{F as C}from"./File-a3ac24f0.js";import"./icon-bb677208.js";import"./index-a83200ab.js";import"./Layout-679212d1.js";import"./useTitle-ba5f7637.js";import"./FolderTree-bae5466d.js";import"./index-ae4483ec.js";import"./index-c016338b.js";import"./index-96eaceed.js";const{hasOwnProperty:A}=Object.prototype,_=(e,t={})=>{typeof t=="string"&&(t={section:t}),t.align=t.align===!0,t.newline=t.newline===!0,t.sort=t.sort===!0,t.whitespace=t.whitespace===!0||t.align===!0,t.platform=t.platform||typeof process<"u"&&process.platform,t.bracketedArray=t.bracketedArray!==!1;const s=t.platform==="win32"?"\r\n":"\n",n=t.whitespace?" = ":"=",i=[],o=t.sort?Object.keys(e).sort():Object.keys(e);let d=0;t.align&&(d=h(o.filter(r=>e[r]===null||Array.isArray(e[r])||typeof e[r]!="object").map(r=>Array.isArray(e[r])?"".concat(r,"[]"):r).concat([""]).reduce((r,c)=>h(r).length>=h(c).length?r:c)).length);let a="";const y=t.bracketedArray?"[]":"";for(const r of o){const c=e[r];if(c&&Array.isArray(c))for(const l of c)a+=h("".concat(r).concat(y)).padEnd(d," ")+n+h(l)+s;else c&&typeof c=="object"?i.push(r):a+=h(r).padEnd(d," ")+n+h(c)+s}t.section&&a.length&&(a="["+h(t.section)+"]"+(t.newline?s+s:s)+a);for(const r of i){const c=O(r,".").join("\\."),l=(t.section?t.section+".":"")+c,u=_(e[r],{...t,section:l});a.length&&u.length&&(a+=s),a+=u}return a};function O(e,t){var s=0,n=0,i=0,o=[];do if(i=e.indexOf(t,s),i!==-1){if(s=i+t.length,i>0&&e[i-1]==="\\")continue;o.push(e.slice(n,i)),n=i+t.length}while(i!==-1);return o.push(e.slice(n)),o}const b=(e,t={})=>{t.bracketedArray=t.bracketedArray!==!1;const s=Object.create(null);let n=s,i=null;const o=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,d=e.split(/[\r\n]+/g),a={};for(const r of d){if(!r||r.match(/^\s*[;#]/)||r.match(/^\s*$/))continue;const c=r.match(o);if(!c)continue;if(c[1]!==void 0){if(i=m(c[1]),i==="__proto__"){n=Object.create(null);continue}n=s[i]=s[i]||Object.create(null);continue}const l=m(c[2]);let u;t.bracketedArray?u=l.length>2&&l.slice(-2)==="[]":(a[l]=((a==null?void 0:a[l])||0)+1,u=a[l]>1);const f=u&&l.endsWith("[]")?l.slice(0,-2):l;if(f==="__proto__")continue;const g=c[3]?m(c[4]):!0,k=g==="true"||g==="false"||g==="null"?JSON.parse(g):g;u&&(A.call(n,f)?Array.isArray(n[f])||(n[f]=[n[f]]):n[f]=[]),Array.isArray(n[f])?n[f].push(k):n[f]=k}const y=[];for(const r of Object.keys(s)){if(!A.call(s,r)||typeof s[r]!="object"||Array.isArray(s[r]))continue;const c=O(r,".");n=s;const l=c.pop(),u=l.replace(/\\\./g,".");for(const f of c)f!=="__proto__"&&((!A.call(n,f)||typeof n[f]!="object")&&(n[f]=Object.create(null)),n=n[f]);n===s&&u===l||(n[u]=s[r],y.push(r))}for(const r of y)delete s[r];return s},x=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"),h=e=>typeof e!="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&x(e)||e!==e.trim()?JSON.stringify(e):e.split(";").join("\\;").split("#").join("\\#"),m=e=>{if(e=(e||"").trim(),x(e)){e.charAt(0)==="'"&&(e=e.slice(1,-1));try{e=JSON.parse(e)}catch(t){}}else{let t=!1,s="";for(let n=0,i=e.length;n<i;n++){const o=e.charAt(n);if(t)"\\;#".indexOf(o)!==-1?s+=o:s+="\\"+o,t=!1;else{if(";#".indexOf(o)!==-1)break;o==="\\"?t=!0:s+=o}}return t&&(s+="\\"),s.trim()}return e};var N={parse:b,decode:b,stringify:_,encode:_,safe:h,unsafe:m};function K(){var a;const[e]=j(),{copy:t}=S(),s=((a=e())==null?void 0:a.content)||"",{text:n}=W(s),o=(()=>{var y;try{return((y=T(N.parse(n()||"")).internetshortcut)==null?void 0:y.url)||"#"}catch(r){return console.error("Error parsing INI content:",r),"#"}})(),d=$();return p(I,{get loading(){return e.loading},get children(){return p(C,{get children(){return[p(w,{colorScheme:"accent",onClick:()=>t(o),get children(){return d("home.toolbar.copy_link")}}),p(w,{as:"a",href:o,target:"_blank",rel:"noopener noreferrer",get children(){return d("home.preview.open_in_new_window")}})]}})}})}export{K as default};
