System.register(["./index-legacy-C7GeLJzS.js","./useTitle-legacy-HTPH2TsG.js","./index-legacy-BfhvY8g1.js","./FolderTree-legacy-C9HuwRat.js","./index-legacy-DDwAqkY0.js","./index-legacy-LqdxT-Xx.js","./share-legacy-CbQXMBg4.js"],function(e,r){"use strict";var t,n,o,a,l,i,c,s,u,d,g,h,p,m,f,b,w,y,_,v,k,$,F,C,x,S,A,E,D,O,M,z,B,I,j,T,L,R,N,V,H,U,P,q,W,K,G,X,J,Y,Q,Z,ee,re,te,ne,oe,ae,le,ie,ce,se,ue,de,ge,he,pe,me,fe,be,we,ye,_e,ve,ke,$e,Fe,Ce,xe,Se,Ae,Ee,De,Oe,Me,ze,Be,Ie,je,Te,Le,Re,Ne,Ve,He,Ue,Pe,qe,We,Ke,Ge,Xe,Je,Ye,Qe,Ze,er,rr,tr,nr,or,ar,lr,ir,cr,sr,ur,dr,gr,hr,pr,mr,fr,br,wr,yr,_r,vr,kr,$r,Fr,Cr,xr,Sr,Ar,Er,Dr,Or,Mr,zr,Br,Ir,jr,Tr,Lr,Rr,Nr,Vr,Hr,Ur,Pr,qr,Wr,Kr,Gr,Xr,Jr,Yr,Qr,Zr,et,rt,tt,nt,ot,at,lt,it,ct,st,ut,dt,gt,ht,pt,mt,ft,bt,wt,yt,_t,vt,kt,$t,Ft,Ct,xt,St,At,Et,Dt,Ot,Mt,zt;return{setters:[e=>{t=e.u,n=e.k,o=e.l,a=e.o,l=e.q,i=e.r,c=e.x,s=e.y,u=e.z,d=e.A,g=e.B,h=e._,p=e.C,m=e.D,f=e.E,b=e.M,w=e.F,y=e.G,_=e.H,v=e.S,k=e.T,$=e.I,F=e.J,C=e.K,x=e.L,S=e.N,A=e.O,E=e.P,D=e.Q,O=e.R,M=e.U,z=e.V,B=e.W,I=e.X,j=e.Y,T=e.Z,L=e.$,R=e.a0,N=e.a1,V=e.a2,H=e.a3,U=e.a4,P=e.a5,q=e.a6,W=e.a7,K=e.a8,G=e.a9,X=e.aa,J=e.ab,Y=e.ac,Q=e.ad,Z=e.ae,ee=e.af,re=e.ag,te=e.ah,ne=e.ai,oe=e.aj,ae=e.ak,le=e.al,ie=e.am,ce=e.an,se=e.ao,ue=e.ap,de=e.aq,ge=e.ar,he=e.as,pe=e.at,me=e.au,fe=e.av,be=e.aw,we=e.ax,ye=e.ay,_e=e.az,ve=e.aA,ke=e.aB,$e=e.aC,Fe=e.aD,Ce=e.aE,xe=e.aF,Se=e.aG,Ae=e.aH,Ee=e.aI,De=e.aJ,Oe=e.aK,Me=e.aL,ze=e.aM,Be=e.aN,Ie=e.aO,je=e.aP,Te=e.aQ,Le=e.aR,Re=e.aS,Ne=e.aT,Ve=e.aU,He=e.aV,Ue=e.aW,Pe=e.aX,qe=e.aY,We=e.aZ,Ke=e.a_,Ge=e.a$,Xe=e.b0,Je=e.b1,Ye=e.b2,Qe=e.b3,Ze=e.b4,er=e.b5,rr=e.b6,tr=e.b7,nr=e.b8,or=e.b9,ar=e.ba,lr=e.bb,ir=e.bc,cr=e.bd,sr=e.be,ur=e.bf,dr=e.bg,gr=e.bh,hr=e.bi,pr=e.bj,mr=e.bk,fr=e.bl,br=e.bm,wr=e.bn,yr=e.bo,_r=e.bp,vr=e.bq,kr=e.br,$r=e.bs,Fr=e.bt,Cr=e.bu,xr=e.bv,Sr=e.bw,Ar=e.bx,Er=e.by,Dr=e.bz,Or=e.bA,Mr=e.bB,zr=e.bC,Br=e.bD,Ir=e.bE,jr=e.bF,Tr=e.bG,Lr=e.bH,Rr=e.bI,Nr=e.bJ,Vr=e.bK,Hr=e.bL,Ur=e.bM,Pr=e.bN,qr=e.bO,Wr=e.bP,Kr=e.bQ,Gr=e.bR,Xr=e.bS,Jr=e.bT,Yr=e.bU,Qr=e.bV,Zr=e.bW,et=e.bX,rt=e.bY,tt=e.bZ,nt=e.b_,ot=e.b$},e=>{at=e.u,lt=e.a},e=>{it=e.L,ct=e.A,st=e.F,ut=e.C,dt=e.a,gt=e.b,ht=e.B,pt=e.c,mt=e.T,ft=e.d,bt=e.e,wt=e.f,yt=e.g,_t=e.h,vt=e.i,kt=e.j,$t=e.k,Ft=e.l,Ct=e.m,xt=e.n},e=>{St=e.F,At=e.M},e=>{Et=e.R},e=>{Dt=e.c},e=>{Ot=e.r,Mt=e.g,zt=e.m}],execute:function(){function Bt(e){return null==e||""===e}function It(e){return null==e}e("I",function(e){return Ve({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 0 0 5 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 0 0 1.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 0 0-2.025-3.276l.5-1.001a.5.5 0 0 0-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 0 0-2.84 0l-.13.052L5.948.276a.5.5 0 0 0-.895.447l.5 1.001A4.499 4.499 0 0 0 3.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 0 1-.001-1h.002A.5.5 0 0 1 6.5 4zm3 0a.5.5 0 0 1-.001-1h.003a.5.5 0 0 1-.001 1z"/>'},e)});const jt=e("u",()=>{const{rawLinks:e}=t(),r=l(),{pathname:p,isShare:m}=n();return{batchDownloadSelected:()=>{e(!0).forEach(e=>{window.open(e,"_blank")})},sendToAria2:async()=>{const e=o(),t=async(e,r)=>{if(r.is_dir){const n=await g(d(p(),e,r.name),h());if(200!==n.code)return n.message;const o=[];for(const a of n.data.content??[]){const n=await t(d(e,r.name),a);if("string"==typeof n)return n;o.push(...n)}return o}return[{path:d(e,r.name),dir:e,url:u(d(p(),e),r,"direct",m(),!0),name:r.name}]},{aria2_rpc_url:n,aria2_rpc_secret:a}=i;if(n)try{let o="/downloads/openlist";o=await async function(e,r){let t="/downloads/openlist";const n=await s.post(e,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.getGlobalOption",params:["token:"+(r??"")]});return console.log(n),200===n.status&&(Bt(n.data.result.dir)||(t=n.data.result.dir),t=t.endsWith("/")?t.slice(0,-1):t),t}(n,a);let l=!1;c.info(`${r("home.package_download.fetching_struct")}`);for(const i of e){const e=await t("",i);if("object"!=typeof e||void 0===e.length)return c.error(`${r("home.package_download.fetching_struct_failed")}: ${e}`),e;for(let t=0;t<e.length;t++){if(Bt(e[t].path)||It(e[t].dir)||Bt(e[t].url)||Bt(e[t].name)){c.error(`${r("home.package_download.fetching_struct_failed")}: ${JSON.stringify(e[t])}`);continue}l||(l=!0,c.info(`${r("home.package_download.downloading")}`));const i=await s.post(n,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+(a??""),[e[t].url],{out:e[t].name,dir:o+e[t].dir,"check-certificate":"false"}]});console.log(i)}}c.success(r("home.toolbar.send_aria2_success"))}catch(l){console.error(l),c.error(`failed to send to aria2: ${l}`)}else c.warning(r("home.toolbar.aria2_not_set"))},playlistDownloadSelected:()=>{const t=o().filter(e=>!e.is_dir);let n=a(p());1===t.length&&(n=t[0].name),n||(n=r("manage.sidemenu.home"));const l=t.reduce((r,t,n)=>`${r}#EXTINF:-1,${t.name}\n${e(!0)[n]}\n`,"#EXTM3U\n"),i=new Blob([l],{type:"application/x-mpegURL"}),c=document.createElement("a");c.href=URL.createObjectURL(i),c.download=`${n}.m3u8`,c.click(),URL.revokeObjectURL(c.href)}}});var Tt=(e=>(e.Name="name",e.Size="size",e.Modified="modified",e.None="",e))(Tt||{}),Lt=(e=>(e.Asc="ASC",e.Desc="DESC",e.None="",e))(Lt||{}),Rt=(e=>(e.Front="front",e.Back="back",e.None="",e))(Rt||{});const Nt=e=>{const[r,t]=p(e.defaultValue??""),[n,o]=p(""),a=l();let i;const s=()=>{const t=r().lastIndexOf(".");setTimeout(()=>{t>0&&e.isRenamingFile?i.setSelectionRange(0,t):i.select()},10)};m(()=>{i&&(i.focus(),s()),E(()=>{i&&i.setSelectionRange(0,0)})}),m(()=>{e.opened||t("")});const u=()=>{if(e.validateFilename){const e=A(r());if(!e.valid)return void c.warning(a(`global.${e.error}`))}else if(!r()||0===r().trim().length)return void c.warning(a("global.empty_input"));e.onSubmit?.(r())},d=r=>{if(t(r),e.validateFilename){const e=A(r);o(e.valid?"":e.error||"")}else o("")};return f(S,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[f(b,{}),f(w,{onDrop:r=>e.onDrop?.(r,t),get children(){return[f(y,{get children(){return a(e.title)}}),f(_,{get children(){return[f(v,{get when(){return e.topSlot},get children(){return e.topSlot}}),f(v,{get when(){return"text"===e.type},get fallback(){return f($,{id:"modal-input",get type(){return e.type},get value(){return r()},ref:e=>i=e,get invalid(){return!!n()},onInput:e=>{d(e.currentTarget.value)},onFocus:s,onKeyDown:e=>{"Enter"===e.key&&u()}})},get children(){return f(k,{id:"modal-input",get value(){return r()},ref:e=>i=e,get invalid(){return!!n()},onInput:e=>{d(e.currentTarget.value)},onFocus:s})}}),f(v,{get when(){return n()},get children(){return f(F,{color:"$danger9",get children(){return a(`global.${n()}`)}})}}),f(v,{get when(){return e.tips},get children(){return f(F,{get children(){return e.tips}})}}),f(v,{get when(){return e.bottomSlot},get children(){return e.bottomSlot}})]}}),f(C,{display:"flex",gap:"$2",get children(){return[f(v,{get when(){return e.footerSlot},get children(){return e.footerSlot}}),f(x,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return a("global.cancel")}}),f(x,{get loading(){return e.loading},onClick:()=>u(),get children(){return a("global.ok")}})]}})]}})]}})},Vt=()=>{const{pathname:e,isShare:r}=n(),t=D(()=>{if(r()){const r=e().split("/").filter(Boolean);return[`@s/${r[1]??""}`,...r.slice(2)]}return["",...e().split("/").filter(Boolean)]}),o=l(),{setPathAs:a}=O(),c=D(()=>{const e={_after:{content:"",backgroundColor:"$background",position:"absolute",height:"100%",width:"99vw",zIndex:-1,transform:"translateX(-50%)",left:"50%",top:0}};switch(i.position_of_header_navbar){case"only_navbar_sticky":return{...e,position:"sticky",zIndex:"$sticky",top:0};case"sticky":return{...e,position:"sticky",zIndex:"$sticky",top:60};default:return{_after:void 0,position:void 0,zIndex:void 0,top:void 0}}});return f(H,M(c,{background:"$background",class:"nav",w:"$full",get children(){return f(z,{get each(){return t()},children:(e,n)=>{const l=D(()=>n()===t().length-1),i=t().slice(0,n()+1).join("/"),c=B(i);let s=()=>e;return r()||""!==s()?r()&&0===n()&&(s=()=>I("share_icon")+o("manage.sidemenu.shares")):s=()=>I("home_icon")+o("manage.sidemenu.home"),f(j,{class:"nav-item",get children(){return[f(T,{class:"nav-link",css:{wordBreak:"break-all"},color:"unset",get _hover(){return{backgroundColor:N(),color:"unset"}},_active:{transform:"scale(.95)",transition:"0.1s"},cursor:"pointer",p:"$1",rounded:"$lg",get currentPage(){return l()},get as(){return l()?void 0:R},get href(){return L(c)},onMouseEnter:()=>a(i),get children(){return s()}}),f(v,{get when(){return!l()},get children(){return f(V,{class:"nav-separator"})}})]}})}})}}))},Ht=re(()=>ae(()=>r.import("./Folder-legacy-DVHBVb0p.js"),void 0)),Ut=re(()=>ae(()=>r.import("./File-legacy-BnjpUgLi.js").then(e=>e.a),void 0)),Pt=re(()=>ae(()=>r.import("./Password-legacy-l-rCLVqH.js"),void 0)),[qt,Wt]=p(),Kt=()=>{const e=l(),r=U("white","$neutral3"),{pathname:t,searchParams:o,isShare:a,to:i}=n(),{handlePathChange:c,refresh:s}=O(),u=P(),d=D(()=>"pagination"===u.type?parseInt(o.page,10)||1:void 0);let g,p;m(le([t,d],async([e,r])=>{o.pwd&&te(o.pwd),g&&ie(g,p),g=e,p=r,at(),await c(e,r)}));const b=D(()=>{const e=q.err;return e.includes("storage not found")||e.includes("please add a storage")}),w=D(()=>b()&&W.is_admin(K()));return f(oe,{ref:e=>Wt(e),class:"obj-box",w:"$full",rounded:"$xl",get bgColor(){return r()},p:"$2",shadow:"$lg",spacing:"$2",get children(){return f(G,{get fallback(){return f(Z,{})},get children(){return f(X,{get children(){return[f(J,{get when(){return q.err},get children(){return f(Y,{get msg(){return q.err},disableColor:!0,get actions(){return Q(()=>!!w())()?f(x,{colorScheme:"accent",onClick:()=>i("/@manage/storages"),get children(){return e("global.go_to_storages")}}):void 0}})}}),f(J,{get when(){return[ee.FetchingObj,ee.FetchingObjs].includes(q.state)},get children(){return f(Z,{})}}),f(J,{get when(){return q.state===ee.NeedPassword},get children(){return f(Pt,{get title(){return Q(()=>!!a())()?e("shares.input_password"):e("home.input_password")},password:h,setPassword:te,enterCallback:()=>s(!0),get children(){return f(v,{get when(){return!a()},get children(){return[f(ne,{get children(){return e("global.have_account")}}),f(ne,{color:"$info9",as:it,get href(){return`/@login?redirect=${encodeURIComponent(location.pathname)}`},get children(){return e("global.go_login")}})]}})}})}}),f(J,{get when(){return[ee.Folder,ee.FetchingMore].includes(q.state)},get children(){return f(Ht,{})}}),f(J,{get when(){return q.state===ee.File},get children(){return f(Ut,{})}})]}})}})}})};function Gt(e){const r=U("white","$neutral3"),{proxyLink:t}=ce();n();const o=D(le(()=>q.state,()=>{if(![ee.FetchingMore,ee.Folder,ee.File].includes(q.state))return"";if([ee.FetchingMore,ee.Folder].includes(q.state)){const r=q.objs.find(r=>e.files.find(e=>e.toLowerCase()===r.name.toLowerCase()));if(r)return t(r,!0)}return q[e.fromMeta]&&"string"==typeof q[e.fromMeta]?q[e.fromMeta]:""})),[a]=se(o,async e=>{let r={content:e};return/^https?:\/\//g.test(e)&&(r=await pe(e)),r});return f(v,{get when(){return Q(()=>!!he("readme_autorender"))()&&o()},get children(){return f(ue,{w:"$full",rounded:"$xl",p:"$4",get bgColor(){return r()},shadow:"$lg",get children(){return f(de,{get loading(){return a.loading},get children(){return f(ge,{get children(){return a()?.content},readme:!0,get toc(){return"readme"===e.fromMeta}})}})}})}})}const Xt=e=>{const r=I("home_container");return f(X,{get fallback(){return f(ue,{w:"min(99%, 980px)",get children(){return e.children}})},get children(){return f(J,{when:"hope_container"===r,get children(){return f(me,{get children(){return e.children}})}})}})};function Jt(){const{to:e}=n(),r=fe(),[t,o]=p(),[a,l]=p(),[i,c]=p(-999),s=()=>{const e=qt(),r=a();if(!e||!r)return;const t=e.offsetLeft>50?16:0;r.clientWidth<e.offsetLeft-t?c(0):c(`calc(-100% + ${e.offsetLeft}px - ${t}px)`)};let u;return be(()=>{const e=t();e?.setPath(r.pathname),u=requestAnimationFrame(s),window.addEventListener("resize",s),E(()=>window.removeEventListener("resize",s))}),m(le(()=>q.state,()=>{cancelAnimationFrame(u),u=requestAnimationFrame(s)})),m(le(()=>r.pathname,()=>{const e=t();e?.setPath(r.pathname)})),f(ue,{get as(){return we.div},initial:{x:-999},get animate(){return{x:i()}},zIndex:"$overlay",pos:"fixed",left:3,top:3,h:"calc(100vh - 6px)",minW:180,p:"$2",overflow:"auto",shadow:"$lg",rounded:"$lg",bgColor:"white",_dark:{bgColor:"$neutral3"},onMouseEnter:()=>c(0),onMouseLeave:s,ref:e=>l(e),get children(){return f(St,{autoOpen:!0,showEmptyIcon:!0,showHiddenFolder:!1,onChange:r=>e(r),handle:e=>o(e)})}})}function Yt(){const e=D(()=>"none"!==i.show_sidebar);return f(v,{get when(){return e()},get children(){return f(Jt,{})}})}const Qt=()=>f(Xt,{get children(){return f(oe,{class:"body",mt:"$1",py:"$2",px:"2%",minH:"80vh",w:"$full",gap:"$4",get children(){return[f(Gt,{files:["header.md","top.md","index.md"],fromMeta:"header"}),f(Vt,{}),f(Kt,{}),f(Gt,{files:["readme.md","footer.md","bottom.md"],fromMeta:"readme"}),f(Yt,{})]}})}});var Zt=_e("<span>|");const en=()=>{const e=l();return f(oe,{class:"footer",w:"$full",py:"$4",get children(){return f(ye,{spacing:"$1",get children(){return[f(ve,{href:"https://github.com/OpenListTeam/OpenList",external:!0,get children(){return e("home.footer.powered_by")}}),Zt(),f(ct,{as:R,get href(){return W.is_guest(K())?"/@login":"/@manage"},get children(){return e(W.is_guest(K())?"login.login":"home.footer.manage")}})]}})}})},rn={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32",transparent:"#0000"};function tn(e,r,t){r/=100,t/=100;let n=(n,o=(n+e/60)%6)=>t-t*r*Math.max(Math.min(o,4-o,1),0);return[255*n(5),255*n(3),255*n(1)]}function nn(e,r,t){t/=100;let n=(r/=100)*Math.min(t,1-t),o=(r,o=(r+e/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[255*o(0),255*o(8),255*o(4)]}const on="^\\s*",an="\\s*$",ln="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",cn="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",sn="([0-9A-Fa-f])",un="([0-9A-Fa-f]{2})",dn=new RegExp(`${on}hsl\\s*\\(${cn},${ln},${ln}\\)${an}`),gn=new RegExp(`${on}hsv\\s*\\(${cn},${ln},${ln}\\)${an}`),hn=new RegExp(`${on}hsla\\s*\\(${cn},${ln},${ln},${cn}\\)${an}`),pn=new RegExp(`${on}hsva\\s*\\(${cn},${ln},${ln},${cn}\\)${an}`),mn=new RegExp(`${on}rgb\\s*\\(${cn},${cn},${cn}\\)${an}`),fn=new RegExp(`${on}rgba\\s*\\(${cn},${cn},${cn},${cn}\\)${an}`),bn=new RegExp(`${on}#${sn}${sn}${sn}${an}`),wn=new RegExp(`${on}#${un}${un}${un}${an}`),yn=new RegExp(`${on}#${sn}${sn}${sn}${sn}${an}`),_n=new RegExp(`${on}#${un}${un}${un}${un}${an}`);function vn(e){return parseInt(e,16)}function kn(e){try{let r;if(r=wn.exec(e))return[vn(r[1]),vn(r[2]),vn(r[3]),1];if(r=mn.exec(e))return[Sn(r[1]),Sn(r[5]),Sn(r[9]),1];if(r=fn.exec(e))return[Sn(r[1]),Sn(r[5]),Sn(r[9]),Cn(r[13])];if(r=bn.exec(e))return[vn(r[1]+r[1]),vn(r[2]+r[2]),vn(r[3]+r[3]),1];if(r=_n.exec(e))return[vn(r[1]),vn(r[2]),vn(r[3]),Cn(vn(r[4])/255)];if(r=yn.exec(e))return[vn(r[1]+r[1]),vn(r[2]+r[2]),vn(r[3]+r[3]),Cn(vn(r[4]+r[4])/255)];if(e in rn)return kn(rn[e]);if(dn.test(e)||hn.test(e)){const[r,t,n,o]=function(e){try{let r;if(r=hn.exec(e))return[xn(r[1]),An(r[5]),An(r[9]),Cn(r[13])];if(r=dn.exec(e))return[xn(r[1]),An(r[5]),An(r[9]),1];throw new Error(`[seemly/hsla]: Invalid color value ${e}.`)}catch(r){throw r}}(e);return[...nn(r,t,n),o]}if(gn.test(e)||pn.test(e)){const[r,t,n,o]=function(e){try{let r;if(r=pn.exec(e))return[xn(r[1]),An(r[5]),An(r[9]),Cn(r[13])];if(r=gn.exec(e))return[xn(r[1]),An(r[5]),An(r[9]),1];throw new Error(`[seemly/hsva]: Invalid color value ${e}.`)}catch(r){throw r}}(e);return[...tn(r,t,n),o]}throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(r){throw r}}function $n(e,r,t,n){return`rgba(${Sn(e)}, ${Sn(r)}, ${Sn(t)}, ${o=n,o>1?1:o<0?0:o})`;var o}function Fn(e,r){const[t,n,o,a=1]=Array.isArray(e)?e:kn(e);return"number"==typeof r.alpha?$n(t,n,o,r.alpha):$n(t,n,o,a)}function Cn(e){const r=Math.round(100*Number(e))/100;return r>1?1:r<0?0:r}function xn(e){const r=Math.round(Number(e));return r>=360||r<0?0:r}function Sn(e){const r=Math.round(Number(e));return r>255?255:r<0?0:r}function An(e){const r=Math.round(Number(e));return r>100?100:r<0?0:r}const En={list:st,grid:Ce,image:xe},Dn=()=>{const e=l();return f(Me,{get children(){return[f(ke,{as:$e,get color(){return Se()},get bgColor(){return Fn(Se(),{alpha:.15})},get _hover(){return{bgColor:Fn(Se(),{alpha:.2})}},"aria-label":"switch layout",compact:!0,size:"lg",get icon(){return f(X,{get children(){return[f(J,{get when(){return"list"===Fe()},get children(){return f(st,{})}}),f(J,{get when(){return"grid"===Fe()},get children(){return f(Ce,{})}}),f(J,{get when(){return"image"===Fe()},get children(){return f(xe,{})}})]}})}}),f(Ae,{get children(){return f(z,{get each(){return Object.entries(En)},children:r=>f(Ee,{get icon(){return f(Oe,{get component(){return r[1]}})},onSelect:()=>{De(r[0])},get children(){return e(`home.layouts.${r[0]}`)}})})}})]}})},On=()=>{const e=I("logo").split("\n"),r=U(e[0],e.pop()),t=D(()=>"sticky"===i.position_of_header_navbar?{position:"sticky",zIndex:"$sticky",top:0}:{position:void 0,zIndex:void 0,top:void 0});return f(Ne,M(t,{bgColor:"$background",class:"header",w:"$full",get children(){return f(Xt,{get children(){return f(ye,{px:"calc(2% + 0.5rem)",py:"$2",w:"$full",justifyContent:"space-between",get children(){return[f(ye,{class:"header-left",h:"44px",get children(){return f(ze,{get src(){return r()},h:"$full",w:"auto",get fallback(){return f(Be,{})}})}}),f(ye,{class:"header-right",spacing:"$2",get children(){return f(v,{get when(){return q.state===ee.Folder},get children(){return[f(v,{get when(){return"none"!==I("search_index")},get children(){return f(ye,{bg:"$neutral4",w:"$32",p:"$1",rounded:"$md",justifyContent:"space-between",border:"2px solid transparent",cursor:"pointer",get color(){return Se()},get bgColor(){return Fn(Se(),{alpha:.15})},get _hover(){return{bgColor:Fn(Se(),{alpha:.2})}},onClick:()=>{Re.emit("tool","search")},get children(){return[f(Ie,{as:je}),f(ye,{get children(){return[Q(()=>f(Le,Te?{children:"Cmd"}:{children:"Ctrl"})),f(Le,{children:"K"})]}})]}})}}),f(Dn,{})]}})}})]}})}})}}))},Mn=e("o",{rename:{icon:_t,color:"$accent9"},copy:{icon:yt,color:"$success9"},move:{icon:wt,color:"$warning9"},delete:{icon:Ue,color:"$danger9"},decompress:{icon:bt,color:"$neutral9"},copy_link:{icon:ft,color:"$info9"},mkdir:{icon:dt,p:!0},recursive_move:{icon:function(e){return Ve({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M11 8v6h1V8h2.5l-3-3-3 3zM1 3h1.5v1H1V3zM3 3h1.5v1H3V3zM5 3h1v1.5H5V3zM1 6.5h1V8H1V6.5zM2.5 7H4v1H2.5V7zM4.5 7H6v1H4.5V7zM1 4.5h1V6H1V4.5zM5 5h1v1.5H5V5zM5 11v3H2v-3h3zm1-1H1v5h5v-5z"/>'},e)},p:!0},remove_empty_directory:{icon:gt,p:!0},batch_rename:{icon:ht,p:!0},new_file:{icon:ut,p:!0},cancel_select:{icon:mt},download:{icon:He,color:"$primary9"},share:{icon:pt,color:"$primary9"}}),zn=e=>{const r=qe.findIndex(r=>r===e.name);if(-1!==r&&!W.can(K(),r))return null;const t=l();return f(Pe,{placement:"top",withArrow:!0,get label(){return t(`home.toolbar.${e.name}`)},get children(){return f(Ie,M({get class(){return`toolbar-${e.name}`},get _hover(){return{bgColor:N()}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$7",rounded:"$md",get p(){return Mn[e.name]?.p?"$1_5":"$1"},_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return Mn[e.name]?.icon},get color(){return Mn[e.name]?.color}},e))}})},Bn=e=>{const r=l();return f(Pe,{get disabled(){return!e.tips},placement:"left",withArrow:!0,get label(){return r(`home.toolbar.${e.tips}`)},get children(){return f(Ie,M({get color(){return Se()},get _hover(){return{bgColor:Se(),color:"white"}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$lg",p:"$1",_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return e.icon}},e))}})},In=()=>{const e=l(),{copySelectedPreviewPage:r,copySelectedRawLink:t}=We(),n="neutral";return f(Me,{placement:"top",offset:10,get children(){return[f(ke,{as:zn,name:"copy_link"}),f(Ae,{get children(){return[f(Ee,{colorScheme:n,onSelect:()=>{r()},get children(){return e("home.toolbar.preview_page")}}),f(Ee,{colorScheme:n,onSelect:()=>{t()},get children(){return e("home.toolbar.down_link")}}),f(Ee,{colorScheme:n,onSelect:()=>{t(!0)},get children(){return e("home.toolbar.encode_down_link")}})]}})]}})};var jn=_e("<p>");const Tn=()=>{const e=l(),r="neutral",{batchDownloadSelected:t,sendToAria2:n,playlistDownloadSelected:o}=jt();return f(Me,{placement:"top",offset:10,get children(){return[f(ke,{as:zn,name:"download"}),f(Ae,{get children(){return[f(Ee,{colorScheme:r,onSelect:t,get children(){return e("home.toolbar.batch_download")}}),f(v,{get when(){return W.is_admin(K())||he("package_download")},get children(){return[f(Ee,{colorScheme:r,onSelect:()=>{Re.emit("tool","package_download")},get children(){return e("home.toolbar.package_download")}}),f(Ee,{colorScheme:r,onSelect:o,get children(){return e("home.toolbar.playlist_download")}})]}}),f(Ee,{colorScheme:r,onSelect:n,get children(){return e("home.toolbar.send_aria2")}})]}})]}})},Ln=re(()=>ae(()=>r.import("./PackageDownload-legacy-DZz7m-CO.js"),void 0)),Rn=()=>{const e=l(),r=e=>{if("package_download"===e){if(!he("package_download"))return;n()}};Re.on("tool",r),E(()=>{Re.off("tool",r)});const{isOpen:t,onOpen:n,onClose:o}=Ke(),[a,i]=p("pre_tips");return f(S,{blockScrollOnMount:!1,get opened(){return t()},onClose:o,closeOnOverlayClick:!1,closeOnEsc:!1,get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return e("home.toolbar.package_download")}}),f(G,{get fallback(){return f(Z,{})},get children(){return f(v,{get when(){return"pre_tips"===a()},get fallback(){return f(Ln,{onClose:o})},get children(){return[f(_,{get children(){var r=jn();return Ge(r,()=>e("home.toolbar.pre_package_download-tips")),r}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:o,colorScheme:"neutral",get children(){return e("global.cancel")}}),f(x,{colorScheme:"info",onClick:()=>{i("package_download")},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})},Nn=()=>{const e=D(()=>[ee.Folder,ee.FetchingMore].includes(q.state)&&Xe()&&Je()),{isShare:r}=n();return f(Qe,{exitBeforeEnter:!0,get children(){return f(v,{get when(){return e()},get children(){return f(ue,{class:"center-toolbar",pos:"fixed",bottom:"$4",right:"50%",w:"max-content",color:"$neutral11",get as(){return we.div},initial:{opacity:0,scale:.9,x:"50% ",y:10},animate:{opacity:1,scale:1,x:"50%",y:0},exit:{opacity:0,scale:.9},transition:{duration:.2},get children(){return f(ye,{p:"$2",get bgColor(){return U("white","#000000d0")()},spacing:"$1",shadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",rounded:"$lg",css:{backdropFilter:"blur(8px)"},get children(){return[f(v,{get when(){return!r()},get children(){return f(z,{each:["rename","move","copy","delete","share","decompress"],children:e=>f(zn,{name:e,onClick:()=>{Re.emit("tool",e)}})})}}),f(In,{}),f(Tn,{}),f(zn,{name:"cancel_select",onClick:()=>{Ye(!1)}})]}})}})}})}})},Vn=()=>{const{isOpen:e,onToggle:r}=Ke({defaultIsOpen:"true"===localStorage.getItem("more-open"),onClose:()=>localStorage.setItem("more-open","false"),onOpen:()=>localStorage.setItem("more-open","true")}),t=D(()=>e()?"$4":"$5"),o=D(()=>q.state===ee.Folder),{refresh:a}=O(),{isShare:l}=n();return f(ue,{class:"left-toolbar-box",pos:"fixed",get right(){return t()},get bottom(){return t()},get children(){return f(v,{get when(){return e()},get fallback(){return f(Bn,{class:"toolbar-toggle",as:$t,onClick:()=>{r()}})},get children(){return f(oe,{class:"left-toolbar",p:"$1",rounded:"$lg",spacing:"$1",bgColor:"$neutral1",get as(){return we.div},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{duration:.2},get children(){return[f(oe,{spacing:"$1",class:"left-toolbar-in",get children(){return[f(Bn,{as:Et,tips:"refresh",onClick:()=>{a(void 0,!0)}}),f(v,{get when(){return Q(()=>!(!o()||l()))()&&(er("write")||q.write)},get children(){return[f(Bn,{get as(){return Mn.new_file.icon},tips:"new_file",onClick:()=>{Re.emit("tool","new_file")}}),f(Bn,{get as(){return Mn.mkdir.icon},p:"$1_5",tips:"mkdir",onClick:()=>{Re.emit("tool","mkdir")}}),f(Bn,{get as(){return Mn.recursive_move.icon},tips:"recursive_move",onClick:()=>{Re.emit("tool","recursiveMove")}}),f(Bn,{get as(){return Mn.remove_empty_directory.icon},tips:"remove_empty_directory",onClick:()=>{Re.emit("tool","removeEmptyDirectory")}}),f(Bn,{get as(){return Mn.batch_rename.icon},tips:"batch_rename",onClick:()=>{Ye(!0),Re.emit("tool","batchRename")}}),f(Bn,{as:Ze,tips:"upload",onClick:()=>{Re.emit("tool","upload")}})]}}),f(v,{get when(){return Q(()=>!(!o()||l()))()&&er("offline_download")},get children(){return f(Bn,{as:rr,pl:"0",tips:"offline_download",onClick:()=>{Re.emit("tool","offline_download")}})}}),f(v,{get when(){return nr()},get children(){return f(Bn,{as:vt,tips:"toggle_markdown_toc",onClick:()=>{tr(e=>!e)}})}}),f(Bn,{tips:"toggle_checkbox",as:kt,onClick:or}),f(Bn,{as:ar,tips:"local_settings",onClick:()=>{Re.emit("tool","local_settings")}})]}}),f(Bn,{tips:"more",as:$t,onClick:r})]}})}})}})},Hn=e=>{if(!W.can(K(),qe.indexOf("write")))return null;const r=l();return f(x,{get leftIcon(){return f(dt,{})},size:"sm",onClick:()=>e.handler?.startCreateFolder(),get children(){return r("home.toolbar.mkdir")}})},Un=()=>{const e=l(),{isOpen:r,onOpen:t,onClose:a}=Ke(),[i,c]=lr(ir),{pathname:s}=n(),{refresh:u}=O(),[d,g]=p(!1),[h,m]=p(!1),[b,w]=p(!1),y=e=>{"copy"===e&&(t(),g(!1))};return Re.on("tool",y),E(()=>{Re.off("tool",y)}),f(At,{get header(){return e("home.toolbar.choose_dst_folder")},get opened(){return r()},onClose:a,get loading(){return i()},headerSlot:e=>f(Hn,{handler:e}),get footerSlot(){return f(oe,{w:"$full",spacing:"$2",get children(){return[f(sr,{mr:"auto",get checked(){return d()},onChange:()=>{const e=!d();e&&(m(!1),w(!1)),g(e)},get children(){return e("home.conflict_policy.overwrite_existing")}}),f(sr,{mr:"auto",get checked(){return h()},onChange:()=>{m(!h())},get disabled(){return d()||b()},get children(){return e("home.conflict_policy.skip_existing")}}),f(sr,{mr:"auto",get checked(){return b()},onChange:()=>{w(!b())},get disabled(){return d()||h()},get children(){return e("home.conflict_policy.merge")}})]}})},onSubmit:async e=>{const r=await c(s(),e,o().map(e=>e.name),d(),h(),b());cr(r,()=>{u(),a()})}})},Pn=()=>{const e=l(),{isOpen:r,onOpen:t,onClose:a}=Ke(),[i,c]=lr(ur),{pathname:s}=n(),{refresh:u}=O(),[d,g]=p(!1),[h,m]=p(!1),b=e=>{"move"===e&&(t(),g(!1))};return Re.on("tool",b),E(()=>{Re.off("tool",b)}),f(At,{get header(){return e("home.toolbar.choose_dst_folder")},get opened(){return r()},onClose:a,get loading(){return i()},headerSlot:e=>f(Hn,{handler:e}),get footerSlot(){return f(oe,{w:"$full",spacing:"$2",get children(){return[f(sr,{mr:"auto",get checked(){return d()},onChange:()=>{const e=!d();e&&m(!1),g(e)},get children(){return e("home.conflict_policy.overwrite_existing")}}),f(sr,{mr:"auto",get checked(){return h()},onChange:()=>{m(!h())},get disabled(){return d()},get children(){return e("home.conflict_policy.skip_existing")}})]}})},onSubmit:async e=>{const r=await c(s(),e,o().map(e=>e.name),d(),h());cr(r,()=>{u(),a()})}})};var qn=_e("<p>");const Wn=()=>{const e=l(),{isOpen:r,onOpen:t,onClose:a}=Ke(),[i,c]=lr(dr),{refresh:s}=O(),{pathname:u}=n(),d=e=>{"delete"===e&&t()};return Re.on("tool",d),E(()=>{Re.off("tool",d)}),f(S,{blockScrollOnMount:!1,get opened(){return r()},onClose:a,size:{"@initial":"xs","@md":"md"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return e("home.toolbar.delete")}}),f(_,{get children(){var r=qn();return Ge(r,()=>e("home.toolbar.delete-tips")),r}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:a,colorScheme:"neutral",get children(){return e("global.cancel")}}),f(x,{colorScheme:"danger",get loading(){return i()},onClick:async()=>{const e=await c(u(),o().map(e=>e.name));cr(e,()=>{s(),a()})},get children(){return e("global.confirm")}})]}})]}})]}})},Kn=()=>{const e=l(),{isOpen:r,onOpen:t,onClose:a}=Ke(),[i,c]=lr(gr),{pathname:s}=n(),{refresh:u}=O(),[g,h]=p(!1),m=e=>{if("rename"===e){if(!hr())return void Re.emit("tool","batchRename");t(),h(!1)}};return Re.on("tool",m),E(()=>{Re.off("tool",m)}),f(v,{get when(){return r()},get children(){return f(Nt,{title:"home.toolbar.input_new_name",validateFilename:!0,get footerSlot(){return f(sr,{mr:"auto",get checked(){return g()},onChange:()=>{h(!g())},get children(){return e("home.conflict_policy.overwrite_existing")}})},get isRenamingFile(){return!o()[0].is_dir},get opened(){return r()},onClose:a,get defaultValue(){return o()[0]?.name??""},get loading(){return i()},onSubmit:async e=>{const r=await c(d(s(),o()[0].name),e,g());cr(r,()=>{u(),a()})}})}})},Gn=()=>{const e=l(),{isOpen:r,onOpen:t,onClose:o}=Ke(),[a,i]=lr(pr),{refresh:c}=O(),{pathname:s}=n(),[u,g]=p(!1),m=e=>{"new_file"===e&&(t(),g(!1))};return Re.on("tool",m),E(()=>{Re.off("tool",m)}),f(Nt,{title:"home.toolbar.input_filename",validateFilename:!0,get footerSlot(){return f(sr,{mr:"auto",get checked(){return u()},onChange:()=>{g(!u())},get children(){return e("home.conflict_policy.overwrite_existing")}})},get opened(){return r()},onClose:o,get loading(){return a()},onSubmit:async e=>{const r=await i(d(s(),e),h(),u());cr(r,()=>{c(),o()})}})},Xn=()=>{const{isOpen:e,onOpen:r,onClose:t}=Ke(),[o,a]=lr(mr),{pathname:l}=n(),{refresh:i}=O(),c=e=>{"mkdir"===e&&r()};return Re.on("tool",c),E(()=>{Re.off("tool",c)}),f(Nt,{title:"home.toolbar.input_dir_name",validateFilename:!0,get opened(){return e()},onClose:t,get loading(){return o()},onSubmit:async e=>{const r=await a(d(l(),e));cr(r,()=>{i(),t()})}})};var Jn=_e("<p>");const Yn=()=>{const{isOpen:e,onOpen:r,onClose:t}=Ke(),{isOpen:o,onOpen:a,onClose:i}=Ke(),[c,s]=lr(fr),{pathname:u}=n(),{refresh:d}=O(),[g,h]=p("cancel"),m=e=>{"recursiveMove"===e&&(r(),h("cancel"))};Re.on("tool",m),E(()=>{Re.off("tool",m)});const v=l();return[f(S,{blockScrollOnMount:!1,get opened(){return e()},onClose:()=>t(),size:{"@initial":"xs","@md":"md"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return v("home.toolbar.recursive_move")}}),f(_,{get children(){var e=Jn();return Ge(e,()=>v("home.toolbar.recursive_move_directory-tips")),e}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:()=>t(),colorScheme:"neutral",get children(){return v("global.cancel")}}),f(x,{onClick:()=>{t(),a()},colorScheme:"danger",get children(){return v("global.confirm")}})]}})]}})]}}),f(At,{get header(){return v("home.toolbar.choose_dst_folder")},get opened(){return o()},onClose:i,get loading(){return c()},headerSlot:e=>f(Hn,{handler:e}),get footerSlot(){return f(ye,{mr:"auto",flex:"0.8",spacing:"$1",get children(){return f(br,{get value(){return g()},onChange:e=>h(e),get children(){return[f(wr,{value:"cancel",get children(){return v("home.conflict_policy.cancel_if_exists")}}),f(wr,{value:"overwrite",get children(){return v("home.conflict_policy.overwrite_existing")}}),f(wr,{value:"skip",get children(){return v("home.conflict_policy.skip_existing")}})]}})}})},onSubmit:async e=>{const r=await s(u(),e,g());cr(r,()=>{d(),i()})}})]};var Qn=_e("<p>");const Zn=()=>{const{isOpen:e,onOpen:r,onClose:t}=Ke(),{pathname:o}=n(),[a,i]=lr(yr),{refresh:c}=O(),s=e=>{"removeEmptyDirectory"===e&&r()};Re.on("tool",s),E(()=>{Re.off("tool",s)});const u=l();return f(S,{blockScrollOnMount:!1,get opened(){return e()},onClose:t,size:{"@initial":"xs","@md":"md"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return u("home.toolbar.remove_empty_directory")}}),f(_,{get children(){var e=Qn();return Ge(e,()=>u("home.toolbar.remove_empty_directory-tips")),e}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:t,colorScheme:"neutral",get children(){return u("global.cancel")}}),f(x,{colorScheme:"danger",get loading(){return a()},onClick:async()=>{const e=await i(o());cr(e,()=>{c(),t()})},get children(){return u("global.confirm")}})]}})]}})]}})},eo=e=>f(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},style:{width:"100%"},get children(){return f(ye,{class:"list-item",w:"$full",p:"$2",rounded:"$lg",transition:"all 0.3s",get _hover(){return{transform:"scale(1.01)",bgColor:N()}},get children(){return[f(ne,{w:{"@initial":"50%","@md":"50%"},class:"name",css:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},get title(){return e.obj.src_name},get children(){return e.obj.src_name}}),f(ne,{w:{"@initial":"50%","@md":"50%"},class:"name",css:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},get title(){return e.obj.new_name},get children(){return e.obj.new_name}})]}})}});var ro=_e('<p style="margin:10px 0">');const to=()=>{const{isOpen:e,onOpen:r,onClose:t}=Ke(),{isOpen:a,onOpen:i,onClose:s}=Ke(),[u,d]=lr(_r),{pathname:g}=n(),{refresh:h}=O(),[m,k]=p("1"),[F,D]=p(""),[B,I]=p(""),[j,T]=p(""),[L,R]=p("string"),[N,V]=p([]),[H,U]=p(""),[P,q]=p(""),W=l(),K=e=>{try{return new RegExp(e),{valid:!0}}catch(r){return{valid:!1,error:"invalid_regex"}}},G=()=>({fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:"left",cursor:"pointer"}),X=e=>{"batchRename"===e&&i()};Re.on("tool",X),E(()=>{Re.off("tool",X)});const J=()=>{if(!F())return void c.warning(W("global.empty_input"));if("1"===m()){const e=K(F());if(!e.valid)return void c.warning(W(`global.${e.error}`))}if("2"===m()||"3"===m()){const e=A(F());if(!e.valid)return void c.warning(W(`global.${e.error}`));const r=A(B());if(!r.valid)return void c.warning(W(`global.${r.error}`))}let e;if("1"===m()){const r=new RegExp(F(),"g");e=o().filter(e=>e.name.match(F())).map(e=>{const t=new Date(e.created),n=new Date(e.modified);return{src_name:e.name,new_name:e.name.replace(r,B()).replace("{created_year}",t.getFullYear().toString().padStart(4,"0")).replace("{created_month}",(t.getMonth()+1).toString().padStart(2,"0")).replace("{created_date}",t.getDate().toString().padStart(2,"0")).replace("{created_hour}",t.getHours().toString().padStart(2,"0")).replace("{created_minute}",t.getMinutes().toString().padStart(2,"0")).replace("{created_second}",t.getSeconds().toString().padStart(2,"0")).replace("{modified_year}",n.getFullYear().toString().padStart(4,"0")).replace("{modified_month}",(n.getMonth()+1).toString().padStart(2,"0")).replace("{modified_date}",n.getDate().toString().padStart(2,"0")).replace("{modified_hour}",n.getHours().toString().padStart(2,"0")).replace("{modified_minute}",n.getMinutes().toString().padStart(2,"0")).replace("{modified_second}",n.getSeconds().toString().padStart(2,"0"))}})}else if("2"===m()){let r=B();const t=F().includes("{number}"),n=parseInt(j())||0;e=o().map(e=>{const o=e.name.lastIndexOf("."),a=-1!==o?e.name.substring(o):"",l=n>0?r.padStart(n,"0"):r;let i;i=t?F().replace("{number}",l)+a:F()+l+a;const c={src_name:e.name,new_name:i};return r=(parseInt(r)+1).toString().padStart(r.length,"0"),c})}else e=o().filter(e=>-1!==e.name.indexOf(F())).map(e=>({src_name:e.name,new_name:e.name.replace(F(),B())}));V(e),r(),s()};return[f(S,{blockScrollOnMount:!1,get opened(){return a()},onClose:s,initialFocus:"#modal-input1",size:{"@initial":"xs","@md":"md"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return W("home.toolbar.batch_rename")}}),f(_,{get children(){return[f(vr,{defaultValue:"1",onChange:e=>{k(e),"1"===e||"3"===e?R("string"):"2"===e&&R("number"),U(""),q("")},get children(){return f(ye,{spacing:"$4",get children(){return[f(kr,{value:"1",get children(){return W("home.toolbar.regex_rename")}}),f(kr,{value:"2",get children(){return W("home.toolbar.sequential_renaming")}}),f(kr,{value:"3",get children(){return W("home.toolbar.find_replace")}})]}})}}),f(oe,{spacing:"$2",get children(){return[(e=ro(),Ge(e,f(v,{get when(){return"1"===m()},get children(){return W("home.toolbar.regular_rename")}}),null),Ge(e,f(v,{get when(){return"2"===m()},get children(){return W("home.toolbar.sequential_renaming_desc")}}),null),Ge(e,f(v,{get when(){return"3"===m()},get children(){return W("home.toolbar.find_replace_desc")}}),null),e),f($,{id:"modal-input1",type:"string",get value(){return F()},get invalid(){return!!H()},onInput:e=>{(e=>{if(D(e),"2"===m()||"3"===m()){const r=A(e);U(r.valid?"":r.error||"")}else if("1"===m()){const r=K(e);U(r.valid?"":r.error||"")}else U("")})(e.currentTarget.value)},onKeyDown:e=>{"Enter"===e.key&&J()}}),f(v,{get when(){return H()},get children(){return f(ne,{color:"$danger9",fontSize:"$sm",get children(){return W(`global.${H()}`)}})}}),f($,{id:"modal-input2",get type(){return L()},get value(){return B()},get invalid(){return!!P()},onInput:e=>{(e=>{if(I(e),"2"===m()||"3"===m()){const r=A(e);q(r.valid?"":r.error||"")}else q("")})(e.currentTarget.value)},onKeyDown:e=>{"Enter"===e.key&&J()}}),f(v,{get when(){return P()},get children(){return f(ne,{color:"$danger9",fontSize:"$sm",get children(){return W(`global.${P()}`)}})}}),f(v,{get when(){return"2"===m()},get children(){return f($,{id:"modal-input3",type:"number",min:"0",step:"1",get placeholder(){return W("home.toolbar.sequential_renaming_input3_placeholder")},get value(){return j()},onInput:e=>{T(e.currentTarget.value)},onKeyDown:e=>{"Enter"===e.key&&J()}})}})];var e}})]}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:()=>{k("1"),R("string"),T(""),U(""),q(""),s()},colorScheme:"neutral",get children(){return W("global.cancel")}}),f(x,{onClick:()=>J(),get disabled(){return Q(()=>!("2"!==m()&&"3"!==m()))()?!(F()&&B()&&!H()&&!P()):!F()},get children(){return W("global.ok")}})]}})]}})]}}),f(S,{size:"xl",get opened(){return e()},onClose:t,get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return W("home.toolbar.regex_rename_preview")}}),f(_,{get children(){return f(oe,{class:"list",w:"$full",spacing:"$1",get children(){return[f(ye,{class:"title",w:"$full",p:"$2",get children(){return[f(ne,M({w:{"@initial":"50%","@md":"50%"}},G,{get children(){return W("home.toolbar.regex_rename_preview_old_name")}})),f(ne,M({w:{"@initial":"50%","@md":"50%"}},G,{get children(){return W("home.toolbar.regex_rename_preview_new_name")}}))]}}),f(z,{get each(){return N()},children:(e,r)=>f(eo,{obj:e,get index(){return r()}})})]}})}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{onClick:()=>{V([]),k("1"),R("string"),T(""),U(""),q(""),t(),s()},colorScheme:"neutral",get children(){return W("global.cancel")}}),f(x,{onClick:()=>{V([]),t(),i()},colorScheme:"neutral",get children(){return W("global.back")}}),f(x,{get loading(){return u()},onClick:async()=>{const e=await d(g(),N());cr(e,()=>{V([]),D(""),I(""),T(""),k("1"),R("string"),U(""),q(""),h(),s(),t()})},get disabled(){return 0==N().length},get children(){return W("global.ok")}})]}})]}})]}})]},no="0123456789abcdef",oo=[];
/* Common package for dealing with hex/string/uint8 conversions (and sha1 hashing)
      *
      * @author   Jimmy Wärting <jimmy@warting.se> (https://jimmy.warting.se/opensource)
      * @license  MIT
      */for(let e=0;e<256;e++)oo[e]=no[e>>4&15]+no[15&e];const ao=e=>{const r=e.length;let t="",n=0;for(;n<r;)t+=oo[e[n++]];return t};for(var lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",io="undefined"==typeof Uint8Array?[]:new Uint8Array(256),co=0;co<64;co++)io[lo.charCodeAt(co)]=co;const so=new TextDecoder,uo=(e,r)=>so.decode(e),go=new TextEncoder,ho=e=>go.encode(e),po="undefined"!=typeof window?window:self,mo=po.crypto||po.msCrypto||{};function fo(e){const r=e<0?1:0;return e=Math.abs(Number(e||1)),Math.floor(Math.log10(e))+1+r}function bo(e){return ArrayBuffer.isView(e)?"arraybufferview":Array.isArray(e)?"array":e instanceof Number?"number":e instanceof Boolean?"boolean":e instanceof Set?"set":e instanceof Map?"map":e instanceof String?"string":e instanceof ArrayBuffer?"arraybuffer":typeof e}function wo(e,r,t){const n=[];let o=null;return wo._encode(n,e),o=((e,r=0)=>{const t=e.length||0;if(!r){let n=t;for(;n--;)r+=e[n].length}const n=new Uint8Array(r);let o=r,a=t;for(;a--;)o-=e[a].length,n.set(e[a],o);return n})(n),wo.bytes=o.length,ArrayBuffer.isView(r)?(r.set(o,t),r):o}mo.subtle||mo.webkitSubtle,wo.bytes=-1,wo._floatConversionDetected=!1,wo._encode=function(e,r){if(null!=r)switch(bo(r)){case"object":wo.dict(e,r);break;case"map":wo.dictMap(e,r);break;case"array":wo.list(e,r);break;case"set":wo.listSet(e,r);break;case"string":wo.string(e,r);break;case"number":case"boolean":wo.number(e,r);break;case"arraybufferview":wo.buffer(e,new Uint8Array(r.buffer,r.byteOffset,r.byteLength));break;case"arraybuffer":wo.buffer(e,new Uint8Array(r))}};const yo=new Uint8Array([101]),_o=new Uint8Array([100]),vo=new Uint8Array([108]);function ko(e,r,t){let n=0,o=1;for(let a=r;a<t;a++){const t=e[a];if(t<58&&t>=48)n=10*n+(t-48);else if(a!==r||43!==t){if(a!==r||45!==t){if(46===t)break;throw new Error("not a number: buffer["+a+"] = "+t)}o=-1}}return n*o}function $o(e,r,t,n){return null==e||0===e.length?null:("number"!=typeof r&&null==n&&(n=r,r=void 0),"number"!=typeof t&&null==n&&(n=t,t=void 0),$o.position=0,$o.encoding=n||null,$o.data=ArrayBuffer.isView(e)?new Uint8Array(e.slice(r,t)):ho(e),$o.bytes=$o.data.length,$o.next())}function Fo(e){if(null==e)return 0;const r=bo(e);switch(r){case"arraybufferview":return function(e){const r=e.byteLength-e.byteOffset;return fo(r)+1+r}(e);case"string":return function(e){const r=ho(e).byteLength;return fo(r)+1+r}(e);case"array":case"set":return function(e){let r=2;for(const t of e)r+=Fo(t);return r}(e);case"number":return 1+fo(Math.floor(e))+1;case"bigint":return 1+e.toString().length+1;case"object":return function(e){let r=2;const t=Object.keys(e);for(let n=0;n<t.length;n++){const o=ho(t[n]).byteLength;r+=fo(o)+1+o,r+=Fo(e[t[n]])}return r}(e);case"map":return function(e){let r=2;for(const[t,n]of e){const e=ho(t).byteLength;r+=fo(e)+1+e,r+=Fo(n)}return r}(e);default:throw new TypeError(`Unsupported value of type "${r}"`)}}wo.buffer=function(e,r){e.push(ho(r.length+":"),r)},wo.string=function(e,r){e.push(ho(ho(r).byteLength+":"+r))},wo.number=function(e,r){if(Number.isInteger(r))return e.push(ho("i"+BigInt(r)+"e"));const t=2147483648,n=(r/t|0)*t+(r%t|0);e.push(ho("i"+n+"e")),n===r||wo._floatConversionDetected||(wo._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+r+'":','Bencoding only defines support for integers, value was converted to "'+n+'"'),console.trace())},wo.dict=function(e,r){e.push(_o);let t,n=0;const o=Object.keys(r).sort(),a=o.length;for(;n<a;n++)t=o[n],null!=r[t]&&(wo.string(e,t),wo._encode(e,r[t]));e.push(yo)},wo.dictMap=function(e,r){e.push(_o);const t=Array.from(r.keys()).sort();for(const n of t)null!=r.get(n)&&(ArrayBuffer.isView(n)?wo._encode(e,n):wo.string(e,String(n)),wo._encode(e,r.get(n)));e.push(yo)},wo.list=function(e,r){let t=0;const n=r.length;for(e.push(vo);t<n;t++)null!=r[t]&&wo._encode(e,r[t]);e.push(yo)},wo.listSet=function(e,r){e.push(vo);for(const t of r)null!=t&&wo._encode(e,t);e.push(yo)},$o.bytes=0,$o.position=0,$o.data=null,$o.encoding=null,$o.next=function(){switch($o.data[$o.position]){case 100:return $o.dictionary();case 108:return $o.list();case 105:return $o.integer();default:return $o.buffer()}},$o.find=function(e){let r=$o.position;const t=$o.data.length,n=$o.data;for(;r<t;){if(n[r]===e)return r;r++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(e)+'" [0x'+e.toString(16)+"]")},$o.dictionary=function(){$o.position++;const e={};for(;101!==$o.data[$o.position];){const r=$o.buffer();let t=uo(r);t.includes("�")&&(t=ao(r)),e[t]=$o.next()}return $o.position++,e},$o.list=function(){$o.position++;const e=[];for(;101!==$o.data[$o.position];)e.push($o.next());return $o.position++,e},$o.integer=function(){const e=$o.find(101),r=ko($o.data,$o.position+1,e);return $o.position+=e+1-$o.position,r},$o.buffer=function(){let e=$o.find(58);const r=ko($o.data,$o.position,e),t=++e+r;return $o.position=t,$o.encoding?uo($o.data.slice(e,t)):$o.data.slice(e,t)};const Co={encode:wo,decode:$o,byteLength:Fo,encodingLength:Fo},xo=["upload_download_stream","delete_on_upload_succeed","delete_on_upload_failed","delete_never","delete_always"];function So(e){return Dt.enc.Utf8.stringify(Dt.lib.WordArray.create(e))}function Ao(e){const r=Co.decode(e),t=Co.encode(r.info),n=Dt.SHA1(Dt.lib.WordArray.create(t)).toString();let o={};return Number.isInteger(r?.info?.length)&&(o.xl=r.info.length),r.info.name&&(o.dn=So(r.info.name)),r.announce&&(o.tr=So(r.announce)),`magnet:?xt=urn:btih:${n}&${new URLSearchParams(o).toString()}`}const Eo=()=>{const e=l(),[r,t]=p([]),[o,a]=lr(()=>$r.get("/public/offline_download_tools")),[i,c]=p(""),[s,u]=p("upload_download_stream");be(async()=>{const e=await a();xr(e,e=>{t(e),c(e[0])})});const{isOpen:d,onOpen:g,onClose:h}=Ke(),[m,b]=lr(Fr),{pathname:w}=n(),y=e=>{"offline_download"===e&&g()};return Re.on("tool",y),E(()=>{Re.off("tool",y)}),f(Nt,{title:"home.toolbar.offline_download",type:"text",get opened(){return d()},onClose:h,get loading(){return o()||m()},get tips(){return e("home.toolbar.offline_download-tips")},onDrop:async(e,r)=>{if(e.preventDefault(),e.dataTransfer?.files.length){const n=[];for(const r of e.dataTransfer.files)if(r.name.toLowerCase().endsWith(".torrent"))try{const e=await r.arrayBuffer();n.push(Ao(new Uint8Array(e)))}catch(t){console.error("Failed to convert torrent file to magnet link:",t)}n.length&&r(n.join("\n"))}},get topSlot(){return f(ue,{mb:"$2",get children(){return f(Cr,{get value(){return i()},onChange:e=>{"SimpleHttp"!==e&&"upload_download_stream"===s()&&u("delete_on_upload_succeed"),c(e)},get options(){return r().map(e=>({value:e,label:e}))}})}})},get bottomSlot(){return f(ue,{mb:"$2",get children(){return f(Cr,{get value(){return s()},onChange:e=>u(e),get options(){return xo.filter(e=>"upload_download_stream"!=e||"SimpleHttp"===i()).map(r=>({value:r,label:e(`home.toolbar.delete_policy.${r}`)}))}})}})},onSubmit:async e=>{const r=await b(w(),e.split("\n"),i(),s());cr(r,()=>{h()})}})},Do=e=>{const r=l(),t=r=>{r===e.name&&o()};Re.on("tool",t),E(()=>{Re.off("tool",t)});const{isOpen:n,onOpen:o,onClose:a}=Ke();return f(S,{get blockScrollOnMount(){return e.blockScrollOnMount},get opened(){return n()},onClose:a,closeOnOverlayClick:!1,closeOnEsc:!1,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[f(b,{}),f(w,{get children(){return[f(Sr,{}),f(y,{get children(){return r(e.title)}}),f(_,{get children(){return f(v,{get when(){return n()},get children(){return f(G,{get fallback(){return f(Z,{})},get children(){return e.children}})}})}})]}})]}})};function Oo(e){const r=l();return f(Jr,{get children(){return[f(Tr,{get children(){return r(`home.local_settings.${e.key}`)}}),f(X,{get fallback(){return f($,{get value(){return i[e.key]},onInput:r=>{Rr(e.key,r.currentTarget.value)}})},get children(){return[f(J,{get when(){return"select"===e.type},get children(){return f(Lr,{get id(){return e.key},get defaultValue(){return i[e.key]},onChange:r=>Rr(e.key,r),get children(){return[f(Nr,{get children(){return[f(Vr,{get children(){return r("global.choose")}}),f(Hr,{}),f(Ur,{})]}}),f(Pr,{get children(){return f(qr,{get children(){return f(z,{get each(){return e.options},children:t=>f(Wr,{value:t,get children(){return[f(Kr,{get children(){return r(`home.local_settings.${e.key}_options.${t}`)}}),f(Gr,{})]}})})}})}})]}})}}),f(J,{get when(){return"boolean"===e.type},get children(){return f(Xr,{get defaultChecked(){return"true"===i[e.key]},onChange:r=>{Rr(e.key,r.currentTarget.checked.toString())}})}}),f(J,{get when(){return"number"===e.type},get children(){return f(ye,{get children(){return[f($e,{"aria-label":"decrease",get icon(){return f(Ft,{})},onClick:()=>{Rr(e.key,Math.max(1,parseInt(i[e.key])-1).toString())}}),f($,{type:"number",get value(){return i[e.key]},onInput:r=>{Rr(e.key,r.currentTarget.value)},style:{"-moz-appearance":"textfield","::-webkit-inner-spin-button":{display:"none"},"::-webkit-outer-spin-button":{display:"none"}},class:"hide-spin"}),f($e,{"aria-label":"increase",get icon(){return f(Ct,{})},onClick:()=>{Rr(e.key,(parseInt(i[e.key])+1).toString())}})]}})}})]}})]}})}const Mo=()=>{const{isOpen:e,onOpen:r,onClose:t}=Ke(),n=l(),o=e=>{"local_settings"===e&&r()};return Re.on("tool",o),E(()=>{Re.off("tool",o)}),f(jr,{get opened(){return e()},placement:"right",onClose:t,get children(){return[f(Ar,{}),f(Er,{get children(){return[f(Dr,{}),f(Or,{color:"$info9",get children(){return n("home.toolbar.local_settings")}}),f(Mr,{get children(){return[f(oe,{spacing:"$2",get children(){return f(z,{get each(){return zr.filter(e=>!e.hidden)},children:e=>f(Oo,e)})}}),f(Ne,{mt:"$4",get children(){return f(ye,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[f(Br,{}),f(Ir,{})]}})}})]}})]}})]}})};var zo=_e("<div>");const Bo=()=>{const e=l(),{isOpen:r,onOpen:t,onClose:a}=Ke(),[i,c]=lr(Yr),{pathname:s}=n(),{refresh:u}=O(),[d,g]=p(""),[h,m]=p(""),[b,w]=p(!0),[y,_]=p(!1),[v,k]=p(!1),[F,C]=p(""),[x,S]=p(),A=e=>{if("decompress"===e){const e=s();Qr(()=>{C(e),S(o().map(e=>e.name)),w(!0),g("/"),m("")}),t()}},D=e=>{const{inner:r,pass:n}=JSON.parse(e),o=s(),a=o.lastIndexOf("/");Qr(()=>{C(o.slice(0,a)),S([o.slice(a+1)]),w(!1),g(r),m(n)}),t()};return Re.on("tool",A),Re.on("extract",D),E(()=>{Re.off("tool",A),Re.off("extract",D)}),f(At,{get header(){return"/"===d()?e("home.toolbar.choose_dst_folder"):e("home.toolbar.archive.extract_header",{path:d()})},get opened(){return r()},onClose:a,get loading(){return i()},defaultValue:F,headerSlot:e=>f(Hn,{handler:e}),get footerSlot(){return f(oe,{w:"$full",spacing:"$2",get children(){return f(sr,{mr:"auto",get checked(){return v()},onChange:()=>k(!v()),get children(){return e("home.conflict_policy.overwrite_existing")}})}})},onSubmit:async e=>{const r=await c(F(),e,x(),h(),d(),b(),y(),v());cr(r,()=>{u(),a()})},get children(){return f(oe,{spacing:"$1",alignItems:"flex-start",get children(){return[f(ye,{width:"100%",spacing:"$1",get children(){return[f(ne,{size:"sm",css:{whiteSpace:"nowrap"},get children(){return e("home.toolbar.decompress-pass")}}),f($,{get value(){return h()},onInput:e=>m(e.target.value),size:"sm",flexGrow:"1"})]}}),f(sr,{get checked(){return b()},onChange:e=>w(e.target.checked),get children(){return e("home.toolbar.decompress-cache-full")}}),f(sr,{get checked(){return y()},onChange:e=>_(e.target.checked),get children(){return e("home.toolbar.decompress-put-into-new")}}),zo()]}})}})},Io=()=>{const e=l(),[r,t]=p(""),{pathname:a}=n(),i=e=>{"share"===e&&(Qr(()=>{t(""),h(""),v(!0);const e=o().map(e=>{const r=a().endsWith("/")||e.name.startsWith("/")?"":"/";return`${K().base_path}${a()}${r}${e.name}`});A({files:e,expires:null,pwd:"",max_accessed:0,order_by:Tt.None,order_direction:Lt.None,extract_folder:Rt.None,remark:"",readme:"",header:""})}),s())};Re.on("tool",i),E(()=>{Re.off("tool",i)});const{isOpen:c,onOpen:s,onClose:u}=Ke(),{copy:d}=Zr(),[g,h]=p(""),[m,v]=p(!0),[F,A]=et({}),[D,O]=lr(()=>$r.post("/share/create",F));return f(S,{blockScrollOnMount:!1,get opened(){return c()},onClose:u,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[f(b,{}),f(w,{get children(){return[f(y,{get children(){return e("home.toolbar.share")}}),f(X,{get fallback(){return[f(_,{get children(){return f(k,{variant:"filled",get value(){return r()},readonly:!0})}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{colorScheme:"primary",onClick:()=>{d(r())},get children(){return e("shares.copy_msg")}}),f(x,{colorScheme:"info",onClick:u,get children(){return e("global.confirm")}})]}})]},get children(){return f(J,{get when(){return""===r()},get children(){return[f(_,{get children(){return f(oe,{spacing:"$1",alignItems:"flex-start",get children(){return[f(ne,{size:"sm",get children(){return e("shares.remark")}}),f(k,{size:"sm",get value(){return F.remark},onInput:e=>{A("remark",e.currentTarget.value)}}),f(ne,{size:"sm",get children(){return e("shares.extract_folder")}}),f(Lr,{size:"sm",get value(){return F.extract_folder},onChange:e=>{A("extract_folder",e)},get children(){return f(rt,{get options(){return[{key:Rt.Front,label:e("shares.extract_folders.front")},{key:Rt.Back,label:e("shares.extract_folders.back")}]}})}}),f(ne,{size:"sm",get children(){return e("shares.order_by")}}),f(Lr,{size:"sm",get value(){return F.order_by},onChange:e=>{A("order_by",e)},get children(){return f(rt,{get options(){return[{key:Tt.Name,label:e("shares.order_bys.name")},{key:Tt.Size,label:e("shares.order_bys.size")},{key:Tt.Modified,label:e("shares.order_bys.modified")}]}})}}),f(ne,{size:"sm",get children(){return e("shares.order_direction")}}),f(Lr,{size:"sm",get value(){return F.order_direction},onChange:e=>{A("order_direction",e)},get children(){return f(rt,{get options(){return[{key:Lt.Asc,label:e("shares.order_directions.asc")},{key:Lt.Desc,label:e("shares.order_directions.desc")}]}})}}),f(ne,{size:"sm",get children(){return e("shares.pwd")}}),f(ye,{spacing:"$1",w:"$full",get children(){return[f($,{size:"sm",get value(){return F.pwd},onInput:e=>{A("pwd",e.currentTarget.value)}}),f($e,{colorScheme:"neutral",size:"sm","aria-label":"random",get icon(){return f(xt,{})},onClick:()=>{A("pwd",Ot())}})]}}),f(ne,{size:"sm",get children(){return e("shares.max_accessed")}}),f($,{type:"number",size:"sm",get value(){return F.max_accessed},onInput:e=>{A("max_accessed",parseInt(e.currentTarget.value))}}),f(ne,{size:"sm",get children(){return e("shares.expires")}}),f($,{size:"sm",get invalid(){return!m()},get value(){return g()},placeholder:"yyyy-MM-dd HH:mm:ss or +1w1d1H1m1s1ms",onInput:e=>{if(h(e.currentTarget.value),""===e.currentTarget.value)return v(!0),void A("expires",null);const r=Mt(e.currentTarget.value);isNaN(r.getTime())?v(!1):(v(!0),A("expires",r.toISOString()))}}),f(ne,{size:"sm",get children(){return e("shares.readme")}}),f(k,{size:"sm",get value(){return F.readme},onInput:e=>{A("readme",e.currentTarget.value)}}),f(ne,{size:"sm",get children(){return e("shares.header")}}),f(k,{size:"sm",get value(){return F.header},onInput:e=>{A("header",e.currentTarget.value)}})]}})}}),f(C,{display:"flex",gap:"$2",get children(){return[f(x,{colorScheme:"neutral",onClick:u,get children(){return e("global.cancel")}}),f(x,{colorScheme:"info",get disabled(){return!m()},get loading(){return D()},onClick:async()=>{const e=await O();xr(e,e=>{const r=zt(e,{site_title:I("site_title")}),n=tt(I("share_summary_content"),r);t(n)})},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})},jo=re(()=>ae(()=>r.import("./Upload-legacy-QI_0gxU8.js"),void 0)),To=()=>[f(Un,{}),f(Pn,{}),f(Kn,{}),f(Wn,{}),f(Bo,{}),f(Gn,{}),f(Xn,{}),f(Io,{}),f(Yn,{}),f(Zn,{}),f(to,{}),f(Eo,{}),f(Rn,{}),f(Do,{name:"upload",title:"home.toolbar.upload",get children(){return f(jo,{})}}),f(Mo,{})],Lo=()=>f(ot,{get children(){return[f(Vn,{}),f(Nn,{}),f(To,{}),f(nt,{})]}});let Ro=!1;const No=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{lt(I("site_title"));const e=I("announcement");return be(()=>{e&&!Ro&&(c.render(()=>f(ge,{children:e})),Ro=!0)}),[f(On,{}),f(Lo,{}),f(Qt,{}),f(en,{})]}},Symbol.toStringTag,{value:"Module"}));e("L",No)}}});
