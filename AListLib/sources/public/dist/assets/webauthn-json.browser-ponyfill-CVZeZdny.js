function p(e){const n="==".slice(0,(4-e.length%4)%4),a=e.replace(/-/g,"+").replace(/_/g,"/")+n,c=atob(a),s=new ArrayBuffer(c.length),u=new Uint8Array(s);for(let l=0;l<c.length;l++)u[l]=c.charCodeAt(l);return s}function g(e){const n=new Uint8Array(e);let a="";for(const u of n)a+=String.fromCharCode(u);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var t="copy",o="convert";function d(e,n,a){if(n===t)return a;if(n===o)return e(a);if(n instanceof Array)return a.map(c=>d(e,n[0],c));if(n instanceof Object){const c={};for(const[s,u]of Object.entries(n)){if(u.derive){const l=u.derive(a);l!==void 0&&(a[s]=l)}if(!(s in a)){if(u.required)throw new Error("Missing key: ".concat(s));continue}if(a[s]==null){c[s]=null;continue}c[s]=d(e,u.schema,a[s])}return c}}function f(e,n){return{required:!0,schema:e,derive:n}}function r(e){return{required:!0,schema:e}}function i(e){return{required:!1,schema:e}}var y={type:r(t),id:r(o),transports:i(t)},b={appid:i(t),appidExclude:i(t),credProps:i(t)},v={appid:i(t),appidExclude:i(t),credProps:i(t)},h={publicKey:r({rp:r(t),user:r({id:r(o),name:r(t),displayName:r(t)}),challenge:r(o),pubKeyCredParams:r(t),timeout:i(t),excludeCredentials:i([y]),authenticatorSelection:i(t),attestation:i(t),extensions:i(b)}),signal:i(t)},S={type:r(t),id:r(t),rawId:r(o),authenticatorAttachment:i(t),response:r({clientDataJSON:r(o),attestationObject:r(o),transports:f(t,e=>{var n;return((n=e.getTransports)==null?void 0:n.call(e))||[]})}),clientExtensionResults:f(v,e=>e.getClientExtensionResults())},C={mediation:i(t),publicKey:r({challenge:r(o),timeout:i(t),rpId:i(t),allowCredentials:i([y]),userVerification:i(t),extensions:i(b)}),signal:i(t)},m={type:r(t),id:r(t),rawId:r(o),authenticatorAttachment:i(t),response:r({clientDataJSON:r(o),authenticatorData:r(o),signature:r(o),userHandle:r(o)}),clientExtensionResults:f(v,e=>e.getClientExtensionResults())};function x(e){return d(p,h,e)}function w(e){return d(g,S,e)}function R(e){return d(p,C,e)}function O(e){return d(g,m,e)}function A(){return!!(navigator.credentials&&navigator.credentials.create&&navigator.credentials.get&&window.PublicKeyCredential)}async function E(e){const n=await navigator.credentials.create(e);return n.toJSON=()=>w(n),n}async function N(e){const n=await navigator.credentials.get(e);return n.toJSON=()=>O(n),n}export{N as a,E as b,x as c,R as g,A as s};
